(function(){var t,e={}.hasOwnProperty,i=function(t,i){function n(){this.constructor=t}for(var o in i)e.call(i,o)&&(t[o]=i[o]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t};if("undefined"==typeof Backbone||null===Backbone)throw Error("Backbone is not defined. Please include the latest version from http://documentcloud.github.com/backbone/backbone.js");Backbone.Marionette.Modals=function(e){function n(){return t=n.__super__.constructor.apply(this,arguments)}return i(n,e),n.prototype.modals=[],n.prototype.zIndex=0,n.prototype.show=function(t,e){return null==e&&(e={}),this.ensureEl(),t.render(),this.$el.append(t.el),Marionette.triggerMethod.call(t,"show"),Marionette.triggerMethod.call(this,"show",t),this.currentView=t,this.modals.push(t),this.zIndex++},n.prototype.close=function(){var t;return t=this.currentView,t&&!t.isClosed?(t.close?t.close():t.remove&&t.remove(),this.modals.splice(_.indexOf(this.modals,t),1),this.zIndex--,this.currentView=this.modals[this.zIndex-1],Marionette.triggerMethod.call(this,"close")):void 0},n.prototype.closeAll=function(){var t,e,i,n,o;for(n=this.modals,o=[],e=0,i=n.length;i>e;e++)t=n[e],o.push(this.close());return o},n}(Backbone.Marionette.Region)}).call(this);