<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta content="text/html;charset=UTF-8" http-equiv="Content-Type"/>
    <title>Create a modal</title>

    <script type="text/javascript" src="vendor/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="vendor/underscore.js"></script>
    <script type="text/javascript" src="vendor/backbone.js"></script>
    <script type="text/javascript" src="vendor/marionette.js"></script>

    <script type="text/javascript" src="../backbone.modal-min.js"></script>
    <script type="text/javascript" src="../backbone.marionette.modals-min.js"></script>
</head>
<body>
  <script type="text/template" id="modals-template">
    <div class="modals-container"></div>
  </script>

  <script type="text/template" id="modal-template">
    <div class="modal-view"></div>
  </script>

  <script type="text/template" id="modal-view1-template">
    <div class="modal-section">
      <input type="text" value="" placeholder="Name your project" />
      <a href="#" id="second">Next view</a>
    </div>
  </script>

  <script type="text/template" id="modal-view2-template">
    This is the second view.
    <a href="#" id="first">Next view</a>
  </script>

  <script>
    jQuery(function($) {
      // create a layout class
      var Layout = Backbone.Marionette.Layout.extend({
        template: _.template($('#modals-template').html()),
        regions: {
          modals: {
            selector:   '.modals-container',
            regionType: Backbone.Marionette.Modals
          }  
        }
      });

      // create a modal view class
      var Modal = Backbone.Modal.extend({
        template: _.template($('#modal-template').html()),

        viewContainer: '.modal-view',

        views: {
          'click #first': {
            view: _.template($('#modal-view1-template').html())
          },
          'click #second': {
            view: _.template($('#modal-view2-template').html())
          }
        }
      });

      var myLayout = new Layout();
      $('body').append(myLayout.render().el);

      myLayout.modals.show(new Modal());
      myLayout.modals.show(new Modal());
    });
  </script>
</body>
</html>